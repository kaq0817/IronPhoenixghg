<aside class="blog-sidebar-featured-collections" style="padding: 1.5rem 1rem;">
  {% if section.settings.heading != blank %}
    <h2 class="sidebar-heading" style="font-size: 1.2rem; text-align: left; margin-bottom: 1rem;">
      {{ section.settings.heading | escape }}
    </h2>
  {% endif %}
  <div class="sidebar-featured-collections-list">
    {% for block in section.blocks %}
      <div class="sidebar-featured-collection-card" style="margin-bottom: 1.25rem; background: #fff; border-radius: 8px; padding: 0.75rem; box-shadow: 0 2px 8px rgba(0,0,0,0.06);">
        <a href="{{ block.settings.collection.url }}" style="display: flex; align-items: center; text-decoration: none;">
          {% if block.settings.collection.image %}
            {% render 'optimized-image', image: block.settings.collection.image, alt: block.settings.collection.title %}
          {% endif %}
          <div>
            <div style="font-weight: bold; color: #222;">{{ block.settings.collection.title | escape }}</div>
            <div style="font-size: 0.9rem; color: #666;">
              {{ block.settings.collection.description | strip_html | truncate: 55 }}
            </div>
          </div>
        </a>
      </div>
    {% endfor %}
    {% if section.blocks.size == 0 %}
      <div style="font-size: 0.95rem; color: #aaa;">No featured collections set. Add them in the theme editor!</div>
    {% endif %}
  </div>
</aside>

{% schema %}
{
  "name": "Sidebar Collections",
  "max_blocks": 6,
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Sidebar Heading",
      "default": "Shop Collections"
    }
  ],
  "blocks": [
    {
      "type": "collection",
      "name": "Collection",
      "settings": [
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Sidebar: Featured Collections"
    }
  ]
}
{% endschema %}
    }
  ]
}
{% endschema %}
