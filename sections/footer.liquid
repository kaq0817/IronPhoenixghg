{% comment %} Fabulous Unified Footer for Iron Phoenix GHG {% endcomment %}

{{ 'component-footer.css' | asset_url | stylesheet_tag }}
{{ 'component-newsletter.css' | asset_url | stylesheet_tag }}
{{ 'component-list-menu.css' | asset_url | stylesheet_tag }}
{{ 'component-list-payment.css' | asset_url | stylesheet_tag }}
{{ 'component-list-social.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .footer {
    margin-top: {{ section.settings.margin_top | times: 0.75 | round: 0 }}px;
  }
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }
  @media screen and (min-width: 750px) {
    .footer {
      margin-top: {{ section.settings.margin_top }}px;
    }
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<footer class="footer color-{{ section.settings.color_scheme }} gradient section-{{ section.id }}-padding">
  <div class="footer__content-top page-width">
    {% if section.settings.logo %}
      <div class="footer__logo">
        {{ section.settings.logo | image_url: width: 300 | image_tag:
          alt: section.settings.logo_alt | default: shop.name,
          loading: 'lazy' }}
      </div>
    {% endif %}

    <div class="footer__blocks grid grid--1-col grid--2-col-tablet">
      {% for block in section.blocks %}
        <div class="footer__block">
          {% if block.type == 'text' %}
            <div class="footer__text">{{ block.settings.text }}</div>
          {% elsif block.type == 'link_list' and linklists[block.settings.menu].links.size > 0 %}
            <h3 class="footer__title">{{ linklists[block.settings.menu].title }}</h3>
            <ul class="footer__menu">
              {% for link in linklists[block.settings.menu].links %}
                <li><a href="{{ link.url }}">{{ link.title }}</a></li>
              {% endfor %}
            </ul>
          {% elsif block.type == 'newsletter' and section.settings.newsletter_enable %}
            <div class="footer-newsletter">
              <h2 class="footer-newsletter__heading">{{ section.settings.newsletter_heading }}</h2>
              {% form 'customer' %}
                <input type="hidden" name="contact[tags]" value="newsletter">
                <input type="email" name="contact[email]" placeholder="Your email" required>
                <button type="submit">{{ section.settings.newsletter_button_label }}</button>
              {% endform %}
            </div>
          {% elsif block.type == 'social' and section.settings.show_social %}
            {% render 'social-follow' %}
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>

  <div class="footer__content-bottom page-width">
    <div class="footer__localization">
      {% if section.settings.enable_country_selector and localization.available_countries.size > 1 %}
        {% form 'localization', id: 'FooterCountryForm', class: 'localization-form' %}
          <h2>{{ 'localization.country_label' | t }}</h2>
          {% render 'country-localization' %}
        {% endform %}
      {% endif %}
      {% if section.settings.enable_language_selector and localization.available_languages.size > 1 %}
        {% form 'localization', id: 'FooterLanguageForm', class: 'localization-form' %}
          <h2>{{ 'localization.language_label' | t }}</h2>
          {% render 'language-localization' %}
        {% endform %}
      {% endif %}
    </div>

    {% if section.settings.payment_enable %}
      <div class="footer__payment-icons">
        <span class="visually-hidden">{{ 'sections.footer.payment' | t }}</span>
        <ul class="list-payment">
          {% for type in shop.enabled_payment_types %}
            <li>{{ type | payment_type_svg_tag }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <div class="footer__copyright">
      <small>&copy; {{ 'now' | date: '%Y' }} {{ shop.name }}. All rights reserved.</small>
      {% if section.settings.show_policy %}
        <ul class="policies">
          {% for policy in shop.policies %}
            {% if policy != blank %}
              <li><a href="{{ policy.url }}">{{ policy.title }}</a></li>
            {% endif %}
          {% endfor %}
        </ul>
      {% endif %}
    </div>
  </div>
</footer>
